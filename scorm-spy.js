javascript:(function(){if(window.__scormSpyActive)return;window.__scormSpyActive=!0;let a='‚Äî',b='‚Äî',c='‚Äî',d=null;function e(){let f=document.getElementById('scorm-spy-panel');if(f)return f.style.display='flex',f;let g=document.createElement('div');g.id='scorm-spy-panel';g.style.cssText='position:fixed; bottom:20px; right:20px; width:380px; max-height:350px; background:rgba(30,30,30,0.95); color:#0f0; font-family:monospace; font-size:12px; border:1px solid #0f0; border-radius:8px; padding:8px; box-shadow:0 0 15px rgba(0,255,0,0.3); z-index:9999; display:flex; flex-direction:column; backdrop-filter:blur(4px);';let h=document.createElement('div');h.style.cssText='display:flex; justify-content:space-between; align-items:center; margin-bottom:5px; border-bottom:1px solid #0f0; padding-bottom:3px;';h.innerHTML='<span style="font-weight:bold;">üì° SCORM Spy</span> <span style="display:flex; gap:5px;"><button id="scorm-clear" style="background:transparent; border:1px solid #0f0; color:#0f0; border-radius:4px; cursor:pointer; font-size:11px;">üóë%EF%B8%8F</button><button id="scorm-activity" style="background:transparent; border:1px solid #0f0; color:#0f0; border-radius:4px; cursor:pointer; font-size:11px;">üñ±%EF%B8%8F –ê–∫—Ç–∏–≤–∞—Ü–∏—è</button><button id="scorm-hide" style="background:transparent; border:1px solid #0f0; color:#0f0; border-radius:4px; cursor:pointer; font-size:11px;">‚úñ%EF%B8%8F</button></span>';let i=document.createElement('div');i.id='scorm-clock';i.style.cssText='background:rgba(0,0,0,0.5); border:1px solid #0f0; border-radius:4px; padding:4px 8px; margin:5px 0; font-size:16px; font-weight:bold; text-align:center; letter-spacing:2px;';i.innerHTML='‚è±%EF%B8%8F –í—Ä–µ–º—è: 00:00:00';let j=document.createElement('div');j.id='scorm-status';j.style.cssText='display:flex; justify-content:space-between; align-items:center; background:rgba(0,0,0,0.5); border:1px solid #0f0; border-radius:4px; padding:4px 8px; margin:5px 0;';j.innerHTML='üìä –°—Ç–∞—Ç—É—Å: <span id="scorm-status-value">‚Äî</span>';let k=document.createElement('div');k.id='scorm-score';k.style.cssText='display:flex; justify-content:space-between; align-items:center; background:rgba(0,0,0,0.5); border:1px solid #0f0; border-radius:4px; padding:4px 8px; margin:5px 0;';k.innerHTML='üéØ –ë–∞–ª–ª—ã: <span id="scorm-score-value">‚Äî / ‚Äî</span>';let l=document.createElement('div');l.id='scorm-log';l.style.cssText='overflow-y:auto; max-height:150px; white-space:pre-wrap; word-break:break-word; padding-right:5px;';g.appendChild(h);g.appendChild(i);g.appendChild(j);g.appendChild(k);g.appendChild(l);document.body.appendChild(g);document.getElementById('scorm-clear').onclick=()=>{document.getElementById('scorm-log').innerHTML='';};document.getElementById('scorm-hide').onclick=()=>{g.style.display='none';};document.getElementById('scorm-activity').onclick=()=>{if(d){clearInterval(d);d=null;document.getElementById('scorm-activity').style.background='transparent';m('‚è∏%EF%B8%8F –ò–º–∏—Ç–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞')}else{n();document.getElementById('scorm-activity').style.background='rgba(0,255,0,0.2)';m('‚ñ∂%EF%B8%8F –ò–º–∏—Ç–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞–ø—É—â–µ–Ω–∞ (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫)')}};return g}function m(f){let g=document.getElementById('scorm-log');if(!g)return;let h=document.createElement('div');h.textContent=f;h.style.cssText='margin:2px 0; border-bottom:1px dotted #333; padding:2px 0;';g.appendChild(h);g.scrollTop=g.scrollHeight}function o(f){let g=document.getElementById('scorm-clock');if(g)g.innerHTML='‚è±%EF%B8%8F –í—Ä–µ–º—è: '+f}function p(f){let g=document.getElementById('scorm-status-value');if(!g)return;let h='';f==='completed'?(h='‚úÖ',f='–∑–∞–≤–µ—Ä—à–µ–Ω–æ'):f==='incomplete'?(h='‚è≥',f='–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ'):f==='passed'?(h='üèÜ',f='—Å–¥–∞–Ω–æ'):f==='failed'?(h='‚ùå',f='–Ω–µ —Å–¥–∞–Ω–æ'):h='üìä';g.innerHTML=h+' '+f}function q(f,g){let h=document.getElementById('scorm-score-value');if(!h)return;if(g!=='‚Äî')h.innerHTML=f+' / '+g;else h.innerHTML=f}function r(){document.dispatchEvent(new MouseEvent('mousemove',{bubbles:!0,clientX:100+100*Math.random(),clientY:100+100*Math.random()}));window.scrollBy(0,1);window.scrollBy(0,-1);document.dispatchEvent(new KeyboardEvent('keydown',{key:'Control',bubbles:!0}));document.dispatchEvent(new KeyboardEvent('keyup',{key:'Control',bubbles:!0}));m('ü§ñ –ò–º–∏—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å')}function n(){if(d)clearInterval(d);d=setInterval(r,30*1000)}let s=e();m('‚è≥ SCORM –ø–µ—Ä–µ—Ö–≤–∞—Ç –∑–∞–ø—É—â–µ–Ω...');let t=window.API||window.API_1484_11;if(!t||!(t.LMSSetValue||t.SetValue)){m('‚ùå SCORM API –Ω–µ –Ω–∞–π–¥–µ–Ω');return}let u=t.LMSSetValue||t.SetValue,v={'cmi.core.score.min':'–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª','cmi.core.score.max':'–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª','cmi.core.score.raw':'–¢–µ–∫—É—â–∏–π –±–∞–ª–ª','cmi.core.lesson_status':'–°—Ç–∞—Ç—É—Å','cmi.core.session_time':'–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã','cmi.completion_status':'–°—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è','cmi.success_status':'–°—Ç–∞—Ç—É—Å —É—Å–ø–µ—Ö–∞','cmi.core.lesson_location':'–ü–æ–∑–∏—Ü–∏—è','cmi.core.total_time':'–û–±—â–µ–µ –≤—Ä–µ–º—è'},w='',x=function(y,z){if(y.includes('suspend_data'))return u.call(this,y,z);if(y.toLowerCase().includes('time')&&/^\d{2}:\d{2}:\d{2}$/.test(z)){o(z);return u.call(this,y,z)}if(y.includes('score.max')){b=z;q(a,b)}if(y.includes('score.raw')){a=z;q(a,b)}if(y.includes('lesson_status')||y.includes('completion_status')||y.includes('success_status')){c=z;p(z)}let A=v[y]||y.replace(/^cmi\.(core\.)?/,'').replace(/\./g,' ');if(y.includes('status')||y.includes('Status')){if(z==='completed')A+=' (–∑–∞–≤–µ—Ä—à–µ–Ω–æ)';else if(z==='incomplete')A+=' (–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ)';else if(z==='passed')A+=' (—Å–¥–∞–Ω–æ)';else if(z==='failed')A+=' (–Ω–µ —Å–¥–∞–Ω–æ)'}let B='SCORM: '+A+' = '+z;m(B);if(y==='cmi.core.lesson_status'&&z==='completed'&&w!=='completed'){m('‚úÖ –ö–£–†–° –ó–ê–í–ï–†–®–Å–ù')}w=z;return u.call(this,y,z)};if(t.LMSSetValue)t.LMSSetValue=x;else t.SetValue=x;m('‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç –∞–∫—Ç–∏–≤–µ–Ω');})();
